/* styles.css */
:root{
  --text:#ffffff;
  --muted: rgba(255,255,255,.82);
  --line: rgba(255,255,255,.22);

  --glass: rgba(255,255,255,.18);
  --glass2: rgba(255,255,255,.10);
  --shadow: 0 18px 44px rgba(0,0,0,.22);

  /* fundo dinâmico (antigo) */
  --cloudA: rgba(255,255,255,.55);
  --cloudB: rgba(255,255,255,.40);
  --skyTintTop: rgba(255,255,255,.10);
  --skyTintBottom: rgba(0,0,0,.10);

  /* NOVO: cores do fundo (JS pode ajustar a partir da imagem) */
  --bg1: #6fa7c6;
  --bg2: #4e8fb6;
  --bg3: #2f6f98;

  /* altura do “céu real” (só até ao fim do Agora) */
  --sky-height: 420px;

  /* IMPORTANTÍSSIMO: default para o fundo fullscreen (evita flash/sem imagem) */
  --sky-bg-image: url("./night_clear.jpg");
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background: var(--bg1);
}

/* FUNDO FULLSCREEN — sempre a MESMA imagem do céu (até ao fundo do telefone) */
.bg{
  position:fixed;
  inset:0;
  z-index:-2;
  pointer-events:none;

  background-image:
    /* “tinta” para legibilidade + look iOS */
    linear-gradient(
      180deg,
      rgba(0,0,0,.06) 0%,
      rgba(0,0,0,.22) 55%,
      rgba(0,0,0,.42) 100%
    ),
    var(--sky-bg-image);

  background-size: cover;
  background-position: center 100%;
  background-repeat: no-repeat;

  filter: saturate(1.05);
}

/* =========================
   CÉU REAL (IMAGEM) — camada superior com movimento/FX
   ========================= */
.skyReal{
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  height: var(--sky-height);
  z-index: -1;            /* por cima do .bg */
  pointer-events: none;
  overflow: hidden;
}

.skyImg{
  position:absolute;
  inset:0;

  background-size: cover;
  background-position: center 100%;

  /* sem zoom extra */
  transform: translateY(0);

  /* movimento subtil */
  animation: skyBreath 44s ease-in-out infinite;
  will-change: transform, filter;
}

.skyClouds{
  position:absolute;
  inset:-20%;
  background:
    radial-gradient(closest-side at 20% 40%, rgba(255,255,255,.18), rgba(255,255,255,0) 70%),
    radial-gradient(closest-side at 60% 30%, rgba(255,255,255,.14), rgba(255,255,255,0) 72%),
    radial-gradient(closest-side at 85% 45%, rgba(255,255,255,.16), rgba(255,255,255,0) 70%);
  filter: blur(10px);
  opacity:.42;
  animation: cloudsDrift 34s linear infinite;
  will-change: transform;
}

.skyFx{
  position:absolute;
  inset:0;
  opacity:0;
  background:none;
  animation:none;
  will-change: transform, opacity;
}

/* fade no fundo do céu para “fundir” com o fundo fullscreen */
.skyFade{
  position:absolute;
  left:0; right:0; bottom:0;

  /* mais longo e suave */
  height: 68%;

  background: linear-gradient(
    180deg,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,.06) 35%,
    rgba(0,0,0,.12) 60%,
    rgba(0,0,0,.18) 100%
  );

  opacity: .55;
}

/* dia/noite subtil (sem mexer na UI) */
body.is-night .skyImg{
  filter: brightness(.78) contrast(1.05) saturate(.95);
}
body.is-day .skyImg{
  filter: brightness(1.02) contrast(1.02) saturate(1.02);
}

/* animação: NÃO mexe em scale (para não “cortar” mais a imagem) */
@keyframes skyBreath{
  0%{ transform: translateY(0); }
  50%{ transform: translateY(-1.2%); }
  100%{ transform: translateY(0); }
}

@keyframes cloudsDrift{
  0%{ transform: translate3d(-2%, 0, 0) scale(1.02); }
  100%{ transform: translate3d(2%, 0, 0) scale(1.02); }
}

@keyframes rainMove{
  0%{ transform: translate3d(-2%, -3%, 0); }
  100%{ transform: translate3d(2%, 3%, 0); }
}

@media (prefers-reduced-motion: reduce){
  .skyImg, .skyClouds, .skyFx{ animation:none !important; }
}
