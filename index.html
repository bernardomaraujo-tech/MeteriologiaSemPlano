<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#6fa7c6" />
  <title>SEM PLANO — Meteo</title>

  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="bg"></div>

  <div class="phone">
    <header class="header">
      <!-- 1 - Logo centrado -->
      <img src="./logo.png" alt="SEM PLANO" class="logo" />

      <!-- Hero -->
      <div class="hero">
        <div class="heroLoc" id="heroLoc">Alcabideche</div>
        <div class="heroTemp" id="heroTemp">—°</div>
        <div class="heroMeta" id="heroMeta">Sensação: —° · Máx: —° · Mín: —°</div>
      </div>

      <!-- 2 - última atualização -->
      <div class="updated" id="updated">—</div>

      <!-- 2 - seletor -->
      <div class="controls">
        <select id="locationSelect" class="select" aria-label="Selecionar localidade"></select>
      </div>
    </header>

    <main class="stack">

      <!-- 3 - Agora + vestir -->
      <section class="card glass">
        <div class="cardTitle">Agora</div>

        <div class="kv">
          <div class="k">Vento</div><div class="v" id="nowWind">—</div>
          <div class="k">Rajadas</div><div class="v" id="nowGust">—</div>
          <div class="k">Direção</div>
          <div class="v inline">
            <span id="nowDirTxt">—</span>
            <span class="arrow" id="nowArrow" aria-label="Direção do vento"></span>
          </div>
          <div class="k">Chuva</div><div class="v" id="nowRain">—</div>
          <div class="k">Prob.</div><div class="v" id="nowPop">—</div>
        </div>

        <div class="divider"></div>

        <div class="dressTitle">O que vestir (sugestão)</div>
        <div class="dressGrid">
          <div class="pillRow">
            <span class="pillLabel">Ciclismo</span>
            <span class="pillValue" id="dressBike">—</span>
          </div>
          <div class="pillRow">
            <span class="pillLabel">Corrida</span>
            <span class="pillValue" id="dressRun">—</span>
          </div>
          <div class="pillRow">
            <span class="pillLabel">Caminhada</span>
            <span class="pillValue" id="dressWalk">—</span>
          </div>
        </div>
      </section>

      <!-- 4 - Alertas -->
      <section class="card glass">
        <div class="cardTitle">Alertas</div>
        <div id="alerts" class="alerts">—</div>
      </section>

      <!-- 5 - Próximas 8h -->
      <section class="card glass">
        <div class="cardTitle">Próximas 8h</div>
        <div class="tableWrap">
          <table class="tbl" id="table8"></table>
        </div>
      </section>

      <!-- 6 - Melhor janela -->
      <section class="card glass">
        <div class="cardTitle">Melhor janela (2h / próximas 12h)</div>
        <div id="bestWindow" class="best">—</div>
        <div class="muted small">Menos chuva + menos rajadas.</div>
      </section>

      <!-- 7 - Sugestão de sentido -->
      <section class="card glass">
        <div class="cardTitle">Sugestão de sentido</div>
        <div id="windSuggestion" class="best">—</div>
      </section>

      <!-- 8 - Câmara -->
      <section class="card glass">
        <div class="cardTitle">Câmara (Windy)</div>
        <div class="windyWrap">
          <a name="windy-webcam-nearby-embed"
             id="windyCam"
             data-params='{"lat":38.7330,"lon":-9.4100,"radius":15,"limit":1}'>
          </a>
        </div>
        <div class="muted small">Se não houver webcam próxima, pode aparecer vazio.</div>
      </section>

      <!-- 9 - Próximas 48h -->
      <section class="card glass">
        <div class="row">
          <div class="cardTitle" style="margin:0;">Próximas 48h</div>
          <button class="btn" id="toggle48" type="button">Mostrar</button>
        </div>
        <div class="tableWrap hidden" id="wrap48" style="margin-top:10px;">
          <table class="tbl" id="table48"></table>
        </div>
      </section>

      <!-- 10 - Fonte -->
      <section class="card glass">
        <div class="cardTitle">Fonte</div>
        <div class="muted" id="source">—</div>
      </section>

    </main>
  </div>

  <script async src="https://webcams.windy.com/webcams/public/embed/v2/script/nearby.js"></script>
  <script src="./app.js"></script>
</body>
</html>
