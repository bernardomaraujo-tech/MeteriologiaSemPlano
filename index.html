<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#6fa7c6" />
  <title>SEM PLANO — Meteo</title>

  <link rel="stylesheet" href="./styles.css?v=20260209_v1" />
</head>

<body>
  <!-- Céu real (imagem + overlays). Fica do topo até ao fim do cartão "Agora" -->
  <div class="skyReal" id="skyReal" aria-hidden="true">
    <div class="skyImg" id="skyImg"></div>
    <div class="skyClouds" id="skyClouds"></div>
    <div class="skyFx" id="skyFx"></div>
    <div class="skyFade" id="skyFade"></div>
  </div>

  <div class="bg"></div>

  <div class="phone">
    <header class="header">
      <img src="./logo.png" alt="SEM PLANO" class="logo" />

      <div class="hero">
        <div class="heroLoc" id="heroLoc">Alcabideche</div>
        <div class="heroTemp" id="heroTemp">—°</div>
        <div class="heroMeta" id="heroMeta">Sensação: —° · Máx: —° · Mín: —°</div>
        <div class="heroSun" id="heroSun">Nascer: — · Pôr: —</div>
      </div>

      <div class="updated" id="updated">—</div>

      <div class="controls">
        <select id="locationSelect" class="select" aria-label="Selecionar localidade"></select>
      </div>
    </header>

    <main class="stack">

      <!-- AGORA -->
      <section class="card glass" id="nowCard">
        <div class="cardTitle">Agora</div>

        <div class="nowLayout">
          <div class="kv">
            <div class="k">Vento</div><div class="v" id="nowWind">—</div>
            <div class="k">Rajadas</div><div class="v" id="nowGust">—</div>
            <div class="k">Direção</div><div class="v" id="nowDirTxt">—</div>
            <div class="k">Chuva</div><div class="v" id="nowRain">—</div>
            <div class="k">Prob.</div><div class="v" id="nowPop">—</div>
          </div>

          <div class="dirCard" aria-label="Direção do vento">
            <div class="dirTitle">Direção</div>
            <div class="compass">
              <div class="compassRing"></div>

              <div class="compassLabel n">N</div>
              <div class="compassLabel e">E</div>
              <div class="compassLabel s">S</div>
              <div class="compassLabel w">O</div>

              <div class="needle" id="dirNeedle"></div>
              <div class="needleDot"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- O que vestir -->
      <section class="card glass">
        <div class="dressTitle">O que vestir (sugestão)</div>
        <div class="dressGrid">
          <div class="pillRow">
            <span class="pillLabel">Ciclismo</span>
            <span class="pillValue" id="dressBike">—</span>
          </div>
          <div class="pillRow">
            <span class="pillLabel">Corrida</span>
            <span class="pillValue" id="dressRun">—</span>
          </div>
          <div class="pillRow">
            <span class="pillLabel">Caminhada</span>
            <span class="pillValue" id="dressWalk">—</span>
          </div>
        </div>
      </section>

      <!-- Alertas -->
      <section class="card glass">
        <div class="cardTitle">Alertas</div>
        <div id="alerts" class="alerts">—</div>
      </section>

      <!-- Próximas 8h -->
      <section class="card glass">
        <div class="cardTitle">Próximas 8h</div>
        <div class="tableWrap">
          <table class="tbl" id="table8"></table>
        </div>
      </section>

      <!-- Melhor janela -->
      <section class="card glass">
        <div class="cardTitle">Melhor janela (2h / próximas 12h)</div>
        <div id="bestWindow" class="best">—</div>
        <div class="muted small">Sugestões entre 07:00 e 22:00.</div>
      </section>

      <!-- Sugestão de sentido -->
      <section class="card glass">
        <div class="cardTitle">Sugestão de sentido</div>
        <div id="windSuggestion" class="best">—</div>
      </section>

      <!-- Câmara (Windy) -->
      <section class="card glass">
        <div class="cardTitle">Câmara (Windy)</div>
        <div class="windyWrap">
          <a name="windy-webcam-nearby-embed"
             id="windyCam"
             data-params='{"lat":38.7330,"lon":-9.4100,"radius":15,"limit":1}'>
          </a>
        </div>
        <div class="muted small">
          Se o embed falhar:
          <a class="camLink" id="windyLink" href="#" target="_blank" rel="noreferrer">ver webcams</a>
        </div>
      </section>

      <!-- Próximas 48h -->
      <section class="card glass">
        <div class="row">
          <div class="cardTitle" style="margin:0;">Próximas 48h</div>
          <button class="btn" id="toggle48" type="button">Mostrar</button>
        </div>

        <div class="tableWrap hidden" id="wrap48" style="margin-top:10px;">
          <table class="tbl" id="table48"></table>
        </div>
      </section>

      <!-- Fonte -->
      <section class="card glass">
        <div class="cardTitle">Fonte</div>
        <div class="muted" id="source">—</div>
      </section>

    </main>
  </div>

  <script async src="https://webcams.windy.com/webcams/public/embed/v2/script/nearby.js"></script>
  <script src="./app.js?v=20260209_v19
    "></script>
</body>
</html>
